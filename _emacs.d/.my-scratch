(defun pcomplete-foo-setup ()
      (interactive)
      (set (make-local-variable 'pcomplete-parse-arguments-function)
           'pcomplete-parse-foo-arguments)
      (set (make-local-variable 'pcomplete-default-completion-function)
           'pcomplete-foo-default-completion))
(defvar foo-all-completions '("foo" "bar" "baz"))
 (defun pcomplete-foo-default-completion ()
     (pcomplete-here foo-all-completions))
(defun pcomplete-parse-foo-arguments ()
   (save-excursion
     (let* ((thispt (point))
            (pt (search-backward-regexp "[ \t\n]" nil t))
            (ptt (if pt (+ pt 1) thispt)))
      (list (list "dummy"
                  (buffer-substring-no-properties ptt thispt))
            (point-min) ptt))))